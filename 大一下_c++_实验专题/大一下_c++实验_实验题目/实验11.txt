
实验10_2、 多态（二） 动态_运行时多态
实验目的：
1. 培养用虚函数实现动态多态性编程的能力
2. 掌握纯虚函数、抽象类、虚析构函数应用
3. 练习运行时类型识别技术在编程中的应用。
实验要求：
在课程网站下载实验报告模板，完成以下实验内容，最后填写实验报告，上传到学校课程网站。

实验内容：
参照《C++语言程序设计》学生用书和课件PPT（见课程网站course.sdu.edu.cn），完成以下内容：

   
1. 编写一个哺乳动物类 Mammal,再由此派生出狗类 Dog，二者都声明 speak()成员函数,该函数在基类中被声明为虚函数,声明一个 Dog 类的对象,通过此对象调用 speak函数,观察运行结果。（习题8.5）

2. 请编写一个抽象类Shape, 在此基础上派生出类 Rectangle 和 Circle, 二者都有计算对象面积的函数 getArea()、计算对象周长的函数 getPerim()。注意不同的派生类可能需要额外的成员数据。（Shape的析构函数之前应该加virtual）（习题8.6）

3. 定义一个基类 BaseClass,从它派生出类 DerivedClass。BaseClass 有成员函数 fnl()、fn2()打印该函数调用信息,fn1()是虚函数;DerivedClass 也有成员函数 fnl()、fn2()。在主函数中声明-个DerivedClass 的对象,分别用 BaseClass 和 DerivedClass 的指针指向 DerivedClass的对象,并通过指针调用 fn1()、fn2(),观察运行结果。父指子（父类指针指子类对象）实现动态多态练习。（习题8.8）

4. 分析第8章PPT例8-5，非多态类型，无虚析构函数，造成内存泄漏的例子，分析出错原因？
 （a）在main()中增加语句 Base b1=Derived(); 请分析输出结果。
 （b）在main()中增加语句  Derived d1;   fun(&d1);  程序会出问题吗？

5. 阅读学习cast中几种不同的cast类型和用法，理解并分析其中p3.cpp的运行结果。

6. 第8章PPT，P69例8-9 dynamic_cast练习，并做如下修改，分析运行结果。
 （a）给void fun(Base *b) 函数中的if语言增加如下语句，
    else 
	cout<<b<<"  "<<d<<endl;

 （b）试将其中的dynamic_cast改为static_cast
-----------------------------------------------
